PAT (Port address translation) - разновидность NAT

Здесь уже учавствует L4 уровень при отправлении

Когда такой пакет приходит в NAT то он создает уже динамическую запись
Проивзодит замену и ИП и порта
Когда прилетает такая запись на сервер то создается сокет и отправляет ответку в наш NAT

Когда следующий компьютер отправит пакет через NAT то он создаст следующую запить ретранслятора IP:PORT где IP задаст все тот же публичный, но порт откроет следующий + 1

Когда пакеты возвращаются то они разНАТчиваются в соответствующие IP:PORT адреса и отсылаются дальше на локальную сеть

Это работает хорошо в одну сторону, когда клиенты смотрят в сторону интернета и коннектятся к ресурсам в интернете
Если разместить ресурс за NAT стороной то клиенты стучаться будут по публичному адресу, который дает NAT, но который отличается от веб весурса, то такой записи в NAT не найдется и пакет буде уничтожен
Чтобы работал сервер и к нему можно было коннектиться из интернета, то создается статическая запись проброса портов (port forrward) где происходит замена IP:PORT компьютера на IP:PORT NAT и наоборот (10.0.0.3:80 - 1.1.1.1:80), если нужно добавить еще один сервер то (10.0.0.4:25 - 1.1.1.1:25)
На одинаковых портах разместить веб сервисы не удастся, нужно выделять новый порт